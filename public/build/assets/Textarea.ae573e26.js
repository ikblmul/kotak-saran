import{b as q,f as re,_ as p,a as te,g as ae,s as E,u as oe,i as L,d as M,e as ne}from"./Typography.1e60e37c.js";import{r as c,a as G,j as w,e as ie}from"./app.0b963a75.js";import{u as se}from"./useForwardedInput.a1a091b8.js";import{u as le}from"./CssVarsProvider.9f8a6919.js";function de(r,e=166){let o;function n(...i){const s=()=>{r.apply(this,i)};clearTimeout(o),o=setTimeout(s,e)}return n.clear=()=>{clearTimeout(o)},n}function ce(r){return r&&r.ownerDocument||document}function j(r){return ce(r).defaultView||window}const ue=["onChange","maxRows","minRows","style","value"];function B(r,e){return parseInt(r[e],10)||0}const pe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function A(r){return r==null||Object.keys(r).length===0}const xe=c.exports.forwardRef(function(e,o){const{onChange:n,maxRows:i,minRows:s=1,style:h,value:x}=e,S=q(e,ue),{current:H}=c.exports.useRef(x!=null),m=c.exports.useRef(null),R=re(o,m),f=c.exports.useRef(null),g=c.exports.useRef(0),[k,C]=c.exports.useState({}),T=c.exports.useCallback(()=>{const t=m.current,a=j(t).getComputedStyle(t);if(a.width==="0px")return{};const d=f.current;d.style.width=a.width,d.value=t.value||e.placeholder||"x",d.value.slice(-1)===`
`&&(d.value+=" ");const F=a["box-sizing"],O=B(a,"padding-bottom")+B(a,"padding-top"),D=B(a,"border-bottom-width")+B(a,"border-top-width"),b=d.scrollHeight;d.value="x";const y=d.scrollHeight;let v=b;s&&(v=Math.max(Number(s)*y,v)),i&&(v=Math.min(Number(i)*y,v)),v=Math.max(v,y);const N=v+(F==="border-box"?O+D:0),J=Math.abs(v-b)<=1;return{outerHeightStyle:N,overflow:J}},[i,s,e.placeholder]),I=(t,u)=>{const{outerHeightStyle:a,overflow:d}=u;return g.current<20&&(a>0&&Math.abs((t.outerHeightStyle||0)-a)>1||t.overflow!==d)?(g.current+=1,{overflow:d,outerHeightStyle:a}):t},P=c.exports.useCallback(()=>{const t=T();A(t)||C(u=>I(u,t))},[T]),$=()=>{const t=T();A(t)||ie.exports.flushSync(()=>{C(u=>I(u,t))})};c.exports.useEffect(()=>{const t=de(()=>{g.current=0,m.current&&$()}),u=j(m.current);u.addEventListener("resize",t);let a;return typeof ResizeObserver<"u"&&(a=new ResizeObserver(t),a.observe(m.current)),()=>{t.clear(),u.removeEventListener("resize",t),a&&a.disconnect()}}),le(()=>{P()}),c.exports.useEffect(()=>{g.current=0},[x]);const l=t=>{g.current=0,H||P(),n&&n(t)};return G(c.exports.Fragment,{children:[w("textarea",p({value:x,onChange:l,ref:R,rows:s,style:p({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},h)},S)),w("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:p({},pe.shadow,h,{padding:0})})]})}),ve=xe;function he(r){return ae("JoyTextarea",r)}const me=te("JoyTextarea",["root","textarea","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),W=me,ge=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","component","componentsProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows"],fe=r=>{const{disabled:e,variant:o,color:n,size:i}=r,s={root:["root",e&&"disabled",o&&`variant${M(o)}`,n&&`color${M(n)}`,i&&`size${M(i)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return ne(s,he,{})},V=E("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r,ownerState:e})=>{var o,n,i,s,h;const x=(o=r.variants[`${e.variant}`])==null?void 0:o[e.color];return[p({"--Textarea-radius":r.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderOpacity":.5,"--Textarea-focusedThickness":"2px","--Textarea-focusedHighlight":(n=r.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:n[500]},e.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decorator-childHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.25rem"},e.size==="md"&&{"--Textarea-minHeight":"2.5rem","--Textarea-paddingBlock":"calc(0.5rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decorator-childHeight":"min(2rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.5rem"},e.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decorator-childHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":"1.75rem"},{"--internal-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth) - var(--Textarea-decorator-childHeight)) / 2, 0px)","--Textarea-decorator-childRadius":"max((var(--Textarea-radius) - var(--variant-borderWidth)) - var(--internal-paddingBlock), min(var(--internal-paddingBlock) / 2, (var(--Textarea-radius) - var(--variant-borderWidth)) / 2))","--Button-minHeight":"var(--Textarea-decorator-childHeight)","--IconButton-size":"var(--Textarea-decorator-childHeight)","--Button-radius":"var(--Textarea-decorator-childRadius)","--IconButton-radius":"var(--Textarea-decorator-childRadius)",boxSizing:"border-box",minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)",fontFamily:r.vars.fontFamily.body,fontSize:r.vars.fontSize.md,lineHeight:r.vars.lineHeight.md},e.size==="sm"&&{fontSize:r.vars.fontSize.sm,lineHeight:r.vars.lineHeight.sm},{transition:"border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth) * -1)"}}),p({},x,{backgroundColor:(i=x==null?void 0:x.backgroundColor)!=null?i:r.vars.palette.background.surface,[`&:hover:not(.${W.focused})`]:p({},(s=r.variants[`${e.variant}Hover`])==null?void 0:s[e.color],{backgroundColor:null,cursor:"text"}),[`&.${W.disabled}`]:(h=r.variants[`${e.variant}Disabled`])==null?void 0:h[e.color],[`&.${W.focused}`]:{"&:before":{boxShadow:"inset 0 0 0 var(--Textarea-focusedThickness) var(--Textarea-focusedHighlight)"}}})]}),Z=E(ve,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(r,e)=>e.textarea})(({theme:r,ownerState:e})=>{var o;return{resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&:-webkit-autofill":{WebkitBackgroundClip:"text",WebkitTextFillColor:(o=r.vars.palette[e.color])==null?void 0:o.overrideTextPrimary},"&::-webkit-input-placeholder":{opacity:"var(--Textarea-placeholderOpacity)",color:"inherit"},"&::-moz-placeholder":{opacity:"var(--Textarea-placeholderOpacity)",color:"inherit"},"&:-ms-input-placeholder":{opacity:"var(--Textarea-placeholderOpacity)",color:"inherit"},"&::-ms-input-placeholder":{opacity:"var(--Textarea-placeholderOpacity)",color:"inherit"}}}),Te=E("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(r,e)=>e.startDecorator})(({theme:r})=>({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:r.vars.palette.text.tertiary,cursor:"initial"})),be=E("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(r,e)=>e.endDecorator})(({theme:r})=>({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:r.vars.palette.text.tertiary,cursor:"initial"})),ye=c.exports.forwardRef(function(e,o){var n,i,s,h,x,S,H,m;const R=oe({props:e,name:"JoyTextarea"}),f=se(R,W),{propsToForward:g,rootStateClasses:k,inputStateClasses:C,getRootProps:T,getInputProps:I,component:P,componentsProps:$={},formControl:l,focused:t,error:u=!1,disabled:a=!1,size:d="md",color:F="neutral",variant:O="outlined",startDecorator:D,endDecorator:b,minRows:y,maxRows:v}=f,N=q(f,ge),J=(n=(i=e.disabled)!=null?i:l==null?void 0:l.disabled)!=null?n:a,U=(s=(h=e.error)!=null?h:l==null?void 0:l.error)!=null?s:u,K=(x=(S=e.size)!=null?S:l==null?void 0:l.size)!=null?x:d,Q=U?"danger":(H=(m=e.color)!=null?m:l==null?void 0:l.color)!=null?H:F,z=p({},R,{color:Q,disabled:J,error:U,focused:t,size:K,variant:O}),_=fe(z),X=L({elementType:V,getSlotProps:T,externalSlotProps:$.root,externalForwardedProps:N,additionalProps:{ref:o,as:P},ownerState:z,className:[_.root,k]}),Y=L({elementType:Z,getSlotProps:ee=>I(p({},ee,g)),externalSlotProps:p({minRows:y,maxRows:v},$.textarea),additionalProps:{id:l==null?void 0:l.htmlFor,"aria-describedby":l==null?void 0:l["aria-describedby"]},ownerState:z,className:[_.textarea,C]});return G(V,p({},X,{children:[D&&w(Te,{className:_.startDecorator,ownerState:z,children:D}),w(Z,p({},Y)),b&&w(be,{className:_.endDecorator,ownerState:z,children:b})]}))}),Re=ye;export{Re as T};
