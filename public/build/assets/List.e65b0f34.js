import{u as y}from"./useSocket.baf0e129.js";import{A as b}from"./AuthenticatedLayout.22801d64.js";import{r,d as l,j as t,a,L as m}from"./app.0b963a75.js";import{P as v}from"./FlashMessage.7487a345.js";import{h as S}from"./moment.9709ab41.js";import{T as s}from"./Typography.1e60e37c.js";import{T}from"./TextField.e42411c6.js";import{B as w}from"./Button.fa928edb.js";import{C as k}from"./Card.72744c5a.js";import{J as C}from"./Link.32309b03.js";import{B as d}from"./useForwardedInput.a1a091b8.js";import"./ApplicationLogo.b8e2e676.js";import"./CssVarsProvider.9f8a6919.js";import"./useId.708cf8ef.js";const p=route("topic.index"),G=o=>{const[c,h]=r.exports.useState({}),[B,u]=r.exports.useState(""),[f,n]=r.exports.useState(o.topic.data);r.exports.useEffect(()=>{n(o.topic.data)},[o.topic]),y({channel:"topic",event:"TopicEvent"},e=>{e.type==="created"&&n(i=>[e.topic,...i])});const x=r.exports.useCallback(e=>{h(i=>({...i,...e})),l.Inertia.get(p,e,{replace:!0,preserveState:!0,only:["topic"]})},[]);r.exports.useEffect(()=>{c.length>0&&l.Inertia.get(p,newQuery,{replace:!0,preserveState:!0,only:["data"]})},[c]);const g=_.debounce(e=>{u(e),x({page:1,q:e})},100);return t(b,{auth:o.auth,errors:o.errors,header:t(s,{fontWeight:"lg",level:"h5",children:"List Topic"}),children:a("div",{className:"md:w-5/6 sm:w-full mx-auto mt-5",children:[a("div",{className:" mb-9 flex justify-between w-full",children:[t(T,{placeholder:"Search Here...",size:"lg",startDecorator:t(v,{className:"w-4"}),onChange:e=>g(e.target.value)}),t(w,{component:m,href:route("topic.create"),method:"get",children:"Tambah Topik"})]}),f.map(e=>a(k,{variant:"outlined",className:"mt-5",row:!0,sx:{minWidth:"320px",gap:2,"&:hover":{boxShadow:"md",borderColor:"neutral.outlinedHoverBorder"}},children:[t(C,{overlay:!0,component:m,method:"GET",underline:"none",href:route("topic.show",e.id),sx:{color:"text.tertiary"}}),t(d,{children:a(d,{sx:{ml:.5},children:[t(s,{level:"h2",fontSize:"lg",id:"card-description",mb:.5,children:e.title}),t(s,{fontSize:"sm","aria-describedby":"card-description",mb:1,children:S(e.created_at).fromNow()})]})})]}))]})})};export{G as default};
